{
  "active": true,
  "connections": {
    "Данные для добавления": {
      "main": [
        [
          {
            "node": "Добавление записи в таблицу Users",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Параметр и его значение для удаления": {
      "main": [
        [
          {
            "node": "Удаление строки в таблице Users по заданному параметру",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Параметры запроса для замены": {
      "main": [
        [
          {
            "node": "Изменение  строки в таблице Users по заданному параметру",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Форма для создания нового пользователя в БД user": {
      "main": [
        [
          {
            "node": "Данные для добавления",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Получить все записи из таблицы Users1": {
      "main": [
        [
          {
            "node": "Edit Fields",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Edit Fields": {
      "main": [
        [
          {
            "node": "Объединяем все треки в один массив2",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Объединяем все треки в один массив2": {
      "main": [
        [
          {
            "node": "Edit Fields3",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "HTML1": {
      "main": [
        [
          {
            "node": "Respond to Webhook",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Edit Fields3": {
      "main": [
        [
          {
            "node": "HTML1",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Форма замена значения параметра по значению параметра": {
      "main": [
        [
          {
            "node": "Параметры запроса для замены",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Форма удаления записи по параметру и его значению в таблице user": {
      "main": [
        [
          {
            "node": "Параметр и его значение для удаления",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Параметры запроса для замены1": {
      "main": [
        [
          {
            "node": "Изменение  строки в таблице Users по заданному параметру1",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Edit Fields1": {
      "main": [
        [
          {
            "node": "Объединяем все треки в один массив",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Объединяем все треки в один массив": {
      "main": [
        [
          {
            "node": "Edit Fields4",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Edit Fields4": {
      "main": [
        [
          {
            "node": "HTML",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "HTML": {
      "main": [
        [
          {
            "node": "Respond to Webhook1",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Webhook": {
      "main": [
        [
          {
            "node": "Получить все записи из таблицы Users1",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Форма замена значения параметра по значению параметра DB_Servers": {
      "main": [
        [
          {
            "node": "Параметры запроса для замены1",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Запрос всех записей из таблицы servers": {
      "main": [
        [
          {
            "node": "Получить все записи из таблицы Servers",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Webhook1": {
      "main": [
        [
          {
            "node": "Edit Fields6",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Edit Fields2": {
      "main": [
        [
          {
            "node": "Edit Fields5",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "HTML2": {
      "main": [
        [
          {
            "node": "Respond to Webhook3",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Edit Fields5": {
      "main": [
        [
          {
            "node": "HTML2",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Edit Fields6": {
      "main": [
        [
          {
            "node": "Edit Fields2",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Date & Time3": {
      "main": [
        [
          {
            "node": "Date & Time8",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Merge": {
      "main": [
        [
          {
            "node": "Aggregate",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Aggregate": {
      "main": [
        [
          {
            "node": "Edit Fields11",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "If": {
      "main": [
        [
          {
            "node": "Date & Time7",
            "type": "main",
            "index": 0
          }
        ],
        [
          {
            "node": "No Operation, do nothing",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Подтягиваем все собранные треки BP из JSON": {
      "main": [
        [
          {
            "node": "Split Out2",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Соединяем имеющиеся треки с полученными": {
      "main": [
        [
          {
            "node": "If4",
            "type": "main",
            "index": 0
          },
          {
            "node": "JsonDatabase",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Обновляем значение BP_tracks1": {
      "main": [
        [
          {
            "node": "If1",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Обновляем значение BP_tracks": {
      "main": [
        [
          {
            "node": "If3",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "If3": {
      "main": [
        [
          {
            "node": "If",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "No Operation, do nothing": {
      "main": [
        [
          {
            "node": "Подтягиваем все собранные треки BP из JSON1",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Подтягиваем все собранные треки BP из JSON1": {
      "main": [
        [
          {
            "node": "Split Out",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Split Out": {
      "main": [
        [
          {
            "node": "Split Out1",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Split Out2": {
      "main": [
        [
          {
            "node": "Соединяем имеющиеся треки с полученными",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Aggregate1": {
      "main": [
        [
          {
            "node": "JsonDatabase2",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Edit Fields11": {
      "main": [
        [
          {
            "node": "Подтягиваем все собранные треки BP из JSON",
            "type": "main",
            "index": 0
          },
          {
            "node": "If",
            "type": "main",
            "index": 0
          },
          {
            "node": "Соединяем имеющиеся треки с полученными",
            "type": "main",
            "index": 1
          }
        ]
      ]
    },
    "Split Out1": {
      "main": [
        [
          {
            "node": "Split Out3",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "If4": {
      "main": [
        [
          {
            "node": "Edit Fields7",
            "type": "main",
            "index": 0
          }
        ],
        [
          {
            "node": "Aggregate1",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Edit Fields7": {
      "main": [
        [
          {
            "node": "Обновляем значение BP_tracks",
            "type": "main",
            "index": 0
          },
          {
            "node": "JsonDatabase1",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "JsonDatabase": {
      "main": [
        [
          {
            "node": "YGP",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "YGP": {
      "main": [
        [
          {
            "node": "If4",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "JsonDatabase1": {
      "main": [
        [
          {
            "node": "YGP1",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "YGP1": {
      "main": [
        [
          {
            "node": "Обновляем значение BP_tracks",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "JsonDatabase2": {
      "main": [
        [
          {
            "node": "If5",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "If5": {
      "main": [
        [
          {
            "node": "Edit Fields9",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Edit Fields9": {
      "main": [
        [
          {
            "node": "Обновляем значение BP_tracks",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Получить все записи из таблицы Servers": {
      "main": [
        [
          {
            "node": "Edit Fields1",
            "type": "main",
            "index": 0
          }
        ]
      ]
    }
  },
  "createdAt": "2024-10-21T18:34:10.656Z",
  "id": "bUJavMgjLppjbo49",
  "meta": {
    "templateCredsSetupCompleted": true
  },
  "name": "Формы для БД",
  "nodes": [
    {
      "parameters": {
        "operation": "executeQuery",
        "query": "INSERT INTO Users (ID, DateLastPay, DateNextPay, Summa, Status, WorkOn)\nVALUE ('{{ $json.ID }}', '{{ $json.DateLastPay }}', '{{ $json.DateNextPay }}', {{ $json.Summa }}, '{{ $json.Status }}', {{ $json.WorkOn }}); ",
        "options": {}
      },
      "id": "a8f9c084-2467-4199-9091-e1017f93ac26",
      "name": "Добавление записи в таблицу Users",
      "type": "n8n-nodes-base.mySql",
      "typeVersion": 2.4,
      "position": [
        780,
        300
      ],
      "credentials": {
        "mySql": {
          "id": "8aCpW2vOoONBz7HE",
          "name": "MySQL account"
        }
      }
    },
    {
      "parameters": {
        "assignments": {
          "assignments": [
            {
              "id": "797f5835-c47a-480d-9409-182e9c6d320f",
              "name": "ID",
              "value": "={{ $json['Введи ID'] }}",
              "type": "string"
            },
            {
              "id": "ab9d10cc-5ff3-4b35-9b9a-a7b9454e9088",
              "name": "DateLastPay",
              "value": "={{ $json['Введи дату последней оплаты'].toDateTime().format('yyyy-MM-dd') }}",
              "type": "string"
            },
            {
              "id": "51f33998-208f-47d0-92bb-19d9d73c9dd0",
              "name": "DateNextPay",
              "value": "={{ $json['Введите дату следующей оплаты'].toDateTime().format('yyyy-MM-dd') }}",
              "type": "string"
            },
            {
              "id": "1ef43b64-0bdd-4332-899a-9e17a7fd07af",
              "name": "Summa",
              "value": "={{ $json['Введи сумму ежемесячного платежа'] }}",
              "type": "number"
            },
            {
              "id": "3a1943fc-7258-4c8c-8027-55291c9b84a3",
              "name": "Status",
              "value": "={{ $json['Введи статус проверки'] }}",
              "type": "string"
            },
            {
              "id": "b97b5ad9-1201-46f8-a916-e07511e0efe9",
              "name": "WorkOn",
              "value": "={{ $json['Введи рабочий статус'] }}",
              "type": "string"
            }
          ]
        },
        "options": {}
      },
      "id": "703e40ef-d4ad-44b2-9bed-c19f84e65ca5",
      "name": "Данные для добавления",
      "type": "n8n-nodes-base.set",
      "typeVersion": 3.4,
      "position": [
        540,
        300
      ]
    },
    {
      "parameters": {
        "operation": "deleteTable",
        "table": {
          "__rl": true,
          "value": "Users",
          "mode": "list",
          "cachedResultName": "Users"
        },
        "deleteCommand": "delete",
        "where": {
          "values": [
            {
              "column": "={{ $json.prm }}",
              "value": "={{ $json.data }}"
            }
          ]
        },
        "options": {}
      },
      "id": "901c7a65-dc01-4714-97cb-ee220057da65",
      "name": "Удаление строки в таблице Users по заданному параметру",
      "type": "n8n-nodes-base.mySql",
      "typeVersion": 2.4,
      "position": [
        780,
        680
      ],
      "credentials": {
        "mySql": {
          "id": "8aCpW2vOoONBz7HE",
          "name": "MySQL account"
        }
      }
    },
    {
      "parameters": {
        "assignments": {
          "assignments": [
            {
              "id": "797f5835-c47a-480d-9409-182e9c6d320f",
              "name": "prm",
              "value": "={{ $json['Введите параметр, по которому нужно произвести поиски удаления'] }}",
              "type": "string"
            },
            {
              "id": "ab9d10cc-5ff3-4b35-9b9a-a7b9454e9088",
              "name": "data",
              "value": "={{ $json['Введите значение параметра для поиска и удаления'] }}",
              "type": "string"
            }
          ]
        },
        "options": {}
      },
      "id": "19618da8-10a7-4df9-9ddc-531122b984aa",
      "name": "Параметр и его значение для удаления",
      "type": "n8n-nodes-base.set",
      "typeVersion": 3.4,
      "position": [
        540,
        680
      ]
    },
    {
      "parameters": {
        "assignments": {
          "assignments": [
            {
              "id": "797f5835-c47a-480d-9409-182e9c6d320f",
              "name": "prmFmatch",
              "value": "={{ $json['Введи параметр, по которому необходимо найти пользователя'] }}",
              "type": "string"
            },
            {
              "id": "ab9d10cc-5ff3-4b35-9b9a-a7b9454e9088",
              "name": "dataFmatch",
              "value": "={{ $json['Введи данные, по которым нужно найти запись для изменения'] }}",
              "type": "string"
            },
            {
              "id": "1c7c9c85-0e29-4786-8a4b-9ee36ea6cf36",
              "name": "prmFchange",
              "value": "={{ $json['Введи параметр для изменения'] }}",
              "type": "string"
            },
            {
              "id": "d34c6735-4050-4629-adcd-3f6110411b3a",
              "name": "dataFchange",
              "value": "={{ $json['Введите данные для изменения'] }}",
              "type": "string"
            }
          ]
        },
        "options": {}
      },
      "id": "877ab47c-2525-4eba-830b-93655935e79b",
      "name": "Параметры запроса для замены",
      "type": "n8n-nodes-base.set",
      "typeVersion": 3.4,
      "position": [
        520,
        500
      ]
    },
    {
      "parameters": {
        "operation": "update",
        "table": {
          "__rl": true,
          "value": "Users",
          "mode": "list",
          "cachedResultName": "Users"
        },
        "dataMode": "defineBelow",
        "columnToMatchOn": "={{ $json.prmFmatch }}",
        "valueToMatchOn": "={{ $json.dataFmatch }}",
        "valuesToSend": {
          "values": [
            {
              "column": "={{ $json.prmFchange }}",
              "value": "={{ $json.dataFchange }}"
            }
          ]
        },
        "options": {}
      },
      "id": "0fecc041-72c6-4726-922f-e8ecaa1467a5",
      "name": "Изменение  строки в таблице Users по заданному параметру",
      "type": "n8n-nodes-base.mySql",
      "typeVersion": 2.4,
      "position": [
        760,
        500
      ],
      "credentials": {
        "mySql": {
          "id": "8aCpW2vOoONBz7HE",
          "name": "MySQL account"
        }
      }
    },
    {
      "parameters": {},
      "id": "2cef2cb1-a8aa-4fb6-849c-a6aa64264002",
      "name": "When clicking ‘Test workflow’",
      "type": "n8n-nodes-base.manualTrigger",
      "typeVersion": 1,
      "position": [
        -1160,
        -420
      ]
    },
    {
      "parameters": {
        "operation": "executeQuery",
        "query": "SELECT * FROM Users ",
        "options": {}
      },
      "id": "6914ff19-b08e-4072-aa52-df43cf61de66",
      "name": "Получить все записи из таблицы Users",
      "type": "n8n-nodes-base.mySql",
      "typeVersion": 2.4,
      "position": [
        60,
        420
      ],
      "credentials": {
        "mySql": {
          "id": "8aCpW2vOoONBz7HE",
          "name": "MySQL account"
        }
      }
    },
    {
      "parameters": {
        "path": "user_add_new",
        "formTitle": "Добавление нового пользователя",
        "formDescription": "Для уточнения параметров можно перейти по ссылке https://n8n.makees.online/webhook/all_user_fromDB",
        "formFields": {
          "values": [
            {
              "fieldLabel": "Введи ID",
              "placeholder": "ZsTest",
              "requiredField": true
            },
            {
              "fieldLabel": "Введи дату последней оплаты",
              "fieldType": "date",
              "formatDate": "e.g. yyyy/mm/dd",
              "requiredField": true
            },
            {
              "fieldLabel": "Введите дату следующей оплаты",
              "fieldType": "date",
              "formatDate": "e.g. yyyy/mm/dd",
              "requiredField": true
            },
            {
              "fieldLabel": "Введи сумму ежемесячного платежа",
              "fieldType": "number",
              "placeholder": "100",
              "requiredField": true
            },
            {
              "fieldLabel": "Введи статус подписки",
              "fieldType": "dropdown",
              "fieldOptions": {
                "values": [
                  {
                    "option": "ok"
                  },
                  {
                    "option": "Nok"
                  }
                ]
              },
              "requiredField": true
            },
            {
              "fieldLabel": "Введи рабочий статус",
              "fieldType": "dropdown",
              "fieldOptions": {
                "values": [
                  {
                    "option": "0"
                  },
                  {
                    "option": "1"
                  }
                ]
              },
              "requiredField": true
            }
          ]
        },
        "options": {
          "respondWithOptions": {
            "values": {
              "respondWith": "redirect",
              "redirectUrl": "https://n8n.makees.online/webhook/all_user_fromDB"
            }
          }
        }
      },
      "id": "5a195292-69d6-463f-8316-e55e37307040",
      "name": "Форма для создания нового пользователя в БД user",
      "type": "n8n-nodes-base.formTrigger",
      "typeVersion": 2.1,
      "position": [
        320,
        300
      ],
      "webhookId": "a6b53d91-bd78-4424-b95e-6dff0cdd5e8f"
    },
    {
      "parameters": {
        "operation": "executeQuery",
        "query": "SELECT * FROM Users ",
        "options": {}
      },
      "id": "52ff1cc7-9c57-4a28-a8a2-dad8b6ef80a0",
      "name": "Получить все записи из таблицы Users1",
      "type": "n8n-nodes-base.mySql",
      "typeVersion": 2.4,
      "position": [
        220,
        860
      ],
      "credentials": {
        "mySql": {
          "id": "8aCpW2vOoONBz7HE",
          "name": "MySQL account"
        }
      }
    },
    {
      "parameters": {
        "assignments": {
          "assignments": [
            {
              "id": "28dccebe-6bb7-4ae6-b487-3bbedb2db8c7",
              "name": "ID",
              "value": "={{ $json.ID }}",
              "type": "string"
            },
            {
              "id": "4a48e8df-276d-49dd-90af-e0776a6667f9",
              "name": "DateLastPay",
              "value": "={{ $json.DateLastPay }}",
              "type": "string"
            },
            {
              "id": "b52949c0-1090-427d-bb67-e10787990613",
              "name": "DateNextPay",
              "value": "={{ $json.DateNextPay }}",
              "type": "string"
            },
            {
              "id": "6d9bbeae-5624-4617-92d2-1c3619a1252d",
              "name": "Summa",
              "value": "={{ $json.Summa }}",
              "type": "number"
            },
            {
              "id": "4a3f89eb-9430-483f-b557-7445fb081539",
              "name": "Status",
              "value": "={{ $json.Status }}",
              "type": "string"
            },
            {
              "id": "e5c5198e-6d01-48fd-9429-b2b7423d0430",
              "name": "WorkOn",
              "value": "={{ $json.WorkOn }}",
              "type": "number"
            }
          ]
        },
        "options": {}
      },
      "id": "0b7b703c-4bb3-43bd-a89e-bf4782ef0d3c",
      "name": "Edit Fields",
      "type": "n8n-nodes-base.set",
      "typeVersion": 3.4,
      "position": [
        400,
        860
      ]
    },
    {
      "parameters": {
        "operation": "concatenateItems",
        "aggregate": "aggregateAllItemData",
        "options": {}
      },
      "id": "d1052a28-2d6a-4cd6-ae5c-98300706daee",
      "name": "Объединяем все треки в один массив2",
      "type": "n8n-nodes-base.itemLists",
      "typeVersion": 3,
      "position": [
        600,
        860
      ]
    },
    {
      "parameters": {
        "respondWith": "text",
        "responseBody": "={{ $json.html }}",
        "options": {}
      },
      "id": "517629b7-4e94-4669-bbaf-5e77c551d014",
      "name": "Respond to Webhook",
      "type": "n8n-nodes-base.respondToWebhook",
      "typeVersion": 1.1,
      "position": [
        1160,
        860
      ]
    },
    {
      "parameters": {
        "html": "{{ $json.html }}"
      },
      "id": "e4b5989b-2c92-418f-a547-4e169e46c463",
      "name": "HTML1",
      "type": "n8n-nodes-base.html",
      "typeVersion": 1.2,
      "position": [
        980,
        860
      ]
    },
    {
      "parameters": {
        "assignments": {
          "assignments": [
            {
              "id": "00fd7f5e-933b-43fa-b8ae-9ba448cfd74d",
              "name": "html",
              "value": "=<!DOCTYPE html>\n<html lang=\"ru\">\n<head>\n    <meta charset=\"UTF-8\">\n    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\n    <title>Список из JSON</title>\n    <style>\n        body {\n            font-family: Arial, sans-serif;\n            margin: 20px;\n        }\n        ul {\n            list-style-type: none;\n            padding: 0;\n        }\n        li {\n            background: #f0f0f0;\n            margin: 5px 0;\n            padding: 10px;\n            border-radius: 5px;\n        }\n        .key {\n            font-weight: bold;\n        }\n    </style>\n</head>\n<body>\n    <h1>Все пользователи из таблицы User</h1>\n    <div id=\"output\"></div>\n\n    <script>\n        const jsonData = [\n            {\n                \"data\": {{ JSON.stringify($json.data) }}\n            }\n        ];\n\n        // Извлекаем массив данных\n        const dataList = jsonData[0].data;\n\n        // Создаем список элементов\n        const list = document.createElement('ul');\n\n        dataList.forEach(item => {\n            const listItem = document.createElement('li');\n            listItem.innerHTML = `\n                <span class=\"key\">ID:</span> ${item.ID}<br>\n                <span class=\"key\">Last Payment Date:</span> ${item.DateLastPay}<br>\n                <span class=\"key\">Next Payment Date:</span> ${item.DateNextPay}<br>\n                <span class=\"key\">Sum:</span> ${item.Summa}<br>\n                <span class=\"key\">Status:</span> ${item.Status}<br>\n                <span class=\"key\">Work On:</span> ${item.WorkOn}\n            `;\n            list.appendChild(listItem);\n        });\n\n        // Добавляем список на страницу\n        document.getElementById('output').appendChild(list);\n    </script>\n</body>\n</html>",
              "type": "string"
            }
          ]
        },
        "options": {}
      },
      "id": "109cb102-41fb-4e8e-a02f-90907c185da7",
      "name": "Edit Fields3",
      "type": "n8n-nodes-base.set",
      "typeVersion": 3.4,
      "position": [
        780,
        860
      ]
    },
    {
      "parameters": {
        "path": "user_change",
        "formTitle": "Изменение данных о записи по параметру для таблицы User",
        "formDescription": "Для уточнения параметров можно перейти по ссылке https://n8n.makees.online/webhook/all_user_fromDB",
        "formFields": {
          "values": [
            {
              "fieldLabel": "Введи параметр, по которому необходимо найти пользователя",
              "fieldType": "dropdown",
              "fieldOptions": {
                "values": [
                  {
                    "option": "ID"
                  },
                  {
                    "option": "DateLastPay"
                  },
                  {
                    "option": "DateNextPay"
                  },
                  {
                    "option": "Summa"
                  },
                  {
                    "option": "Status"
                  },
                  {
                    "option": "WorkOn"
                  }
                ]
              },
              "requiredField": true
            },
            {
              "fieldLabel": "Введи данные, по которым нужно найти запись для изменения",
              "placeholder": "={{ $execution }}",
              "requiredField": true
            },
            {
              "fieldLabel": "Введи параметр для изменения",
              "fieldType": "dropdown",
              "fieldOptions": {
                "values": [
                  {
                    "option": "ID"
                  },
                  {
                    "option": "DateLastPay"
                  },
                  {
                    "option": "DateNextPay"
                  },
                  {
                    "option": "Summa"
                  },
                  {
                    "option": "Status"
                  },
                  {
                    "option": "WorkOn"
                  }
                ]
              },
              "requiredField": true
            },
            {
              "fieldLabel": "Введите данные для изменения",
              "placeholder": "2024/10/22",
              "requiredField": true
            }
          ]
        },
        "options": {
          "appendAttribution": false,
          "respondWithOptions": {
            "values": {
              "respondWith": "redirect",
              "redirectUrl": "https://n8n.makees.online/webhook/all_user_fromDB"
            }
          }
        }
      },
      "id": "289239cc-0b69-482d-8829-be103a95e6cf",
      "name": "Форма замена значения параметра по значению параметра",
      "type": "n8n-nodes-base.formTrigger",
      "typeVersion": 2.1,
      "position": [
        300,
        500
      ],
      "webhookId": "4dee4a01-8de1-4fa1-8984-c6099c9fd85d"
    },
    {
      "parameters": {
        "path": "user_delete",
        "formTitle": "Удаление записи в таблице user по параметру и его значению",
        "formDescription": "Для уточнения параметров можно перейти по ссылке https://n8n.makees.online/webhook/all_user_fromDB",
        "formFields": {
          "values": [
            {
              "fieldLabel": "Введите параметр, по которому нужно произвести поиски удаления",
              "fieldType": "dropdown",
              "fieldOptions": {
                "values": [
                  {
                    "option": "ID"
                  },
                  {
                    "option": "DateLastPay"
                  },
                  {
                    "option": "DateNextPay"
                  },
                  {
                    "option": "Summa"
                  },
                  {
                    "option": "Status"
                  },
                  {
                    "option": "WorkOn"
                  }
                ]
              },
              "requiredField": true
            },
            {
              "fieldLabel": "Введите значение параметра для поиска и удаления",
              "placeholder": "ZsTTest",
              "requiredField": true
            }
          ]
        },
        "options": {
          "respondWithOptions": {
            "values": {
              "respondWith": "redirect",
              "redirectUrl": "https://n8n.makees.online/webhook/all_user_fromDB"
            }
          }
        }
      },
      "id": "ebca40e4-3d82-4be7-8792-d402cfdb2ce8",
      "name": "Форма удаления записи по параметру и его значению в таблице user",
      "type": "n8n-nodes-base.formTrigger",
      "typeVersion": 2.1,
      "position": [
        320,
        680
      ],
      "webhookId": "253bb146-69f8-4ea7-8280-4c2e1fbbfff3"
    },
    {
      "parameters": {
        "content": "## Формы для работы с таблицей user\nСоздание - https://n8n.makees.online/form/user_add_new\nИзменение - https://n8n.makees.online/form/user_change\nУдаление - https://n8n.makees.online/form/user_delete\nПолучение всех записей - https://n8n.makees.online/webhook/all_user_fromDB\n\n## Формы для работы с таблицей servers\nИзменение - https://n8n.makees.online/form/servers_change\nПолучение всех записей - https://n8n.makees.online/webhook/all_fromDBserver",
        "height": 272.59950009339764,
        "width": 561.538949260074
      },
      "id": "b939f56b-fb73-472a-b997-fe77ee6521dc",
      "name": "Sticky Note",
      "type": "n8n-nodes-base.stickyNote",
      "typeVersion": 1,
      "position": [
        -720,
        240
      ]
    },
    {
      "parameters": {
        "assignments": {
          "assignments": [
            {
              "id": "797f5835-c47a-480d-9409-182e9c6d320f",
              "name": "prmFmatch",
              "value": "={{ $json['Введи параметр, по которому необходимо найти пользователя'] }}",
              "type": "string"
            },
            {
              "id": "ab9d10cc-5ff3-4b35-9b9a-a7b9454e9088",
              "name": "dataFmatch",
              "value": "={{ $json['Введи данные, по которым нужно найти запись для изменения'] }}",
              "type": "string"
            },
            {
              "id": "1c7c9c85-0e29-4786-8a4b-9ee36ea6cf36",
              "name": "prmFchange",
              "value": "={{ $json['Введи параметр для изменения'] }}",
              "type": "string"
            },
            {
              "id": "d34c6735-4050-4629-adcd-3f6110411b3a",
              "name": "dataFchange",
              "value": "={{ $json['Введите данные для изменения'] }}",
              "type": "string"
            }
          ]
        },
        "options": {}
      },
      "id": "5796b336-4bbc-45f4-92ad-41fec5aac4d9",
      "name": "Параметры запроса для замены1",
      "type": "n8n-nodes-base.set",
      "typeVersion": 3.4,
      "position": [
        1340,
        320
      ]
    },
    {
      "parameters": {
        "operation": "update",
        "table": {
          "__rl": true,
          "value": "Servers",
          "mode": "list",
          "cachedResultName": "Servers"
        },
        "dataMode": "defineBelow",
        "columnToMatchOn": "={{ $json.prmFmatch }}",
        "valueToMatchOn": "={{ $json.dataFmatch }}",
        "valuesToSend": {
          "values": [
            {
              "column": "={{ $json.prmFchange }}",
              "value": "={{ $json.dataFchange }}"
            }
          ]
        },
        "options": {}
      },
      "id": "268c9106-92c9-4bb2-8446-0e19b2099331",
      "name": "Изменение  строки в таблице Users по заданному параметру1",
      "type": "n8n-nodes-base.mySql",
      "typeVersion": 2.4,
      "position": [
        1580,
        320
      ],
      "credentials": {
        "mySql": {
          "id": "8aCpW2vOoONBz7HE",
          "name": "MySQL account"
        }
      }
    },
    {
      "parameters": {
        "assignments": {
          "assignments": [
            {
              "id": "8640714d-b1b0-4529-a7e6-a8918130cb22",
              "name": "Server_name",
              "value": "={{ $json.Server_name }}",
              "type": "string"
            },
            {
              "id": "23883583-e38c-46ea-be8a-6500c2c4a551",
              "name": "PP",
              "value": "={{ $json.PP }}",
              "type": "string"
            },
            {
              "id": "d017be4c-3d21-4311-b8e5-8ddbe98148b3",
              "name": "Webhook",
              "value": "={{ $json.Webhook }}",
              "type": "string"
            },
            {
              "id": "c7580fe1-10cf-46cd-80b2-fcac91904ae7",
              "name": "All_traks",
              "value": "={{ $json.All_traks }}",
              "type": "number"
            },
            {
              "id": "18ad0757-9324-49b4-9c16-80462e5d7290",
              "name": "Traks_left",
              "value": "={{ $json.Traks_left }}",
              "type": "number"
            },
            {
              "id": "d1045508-52d7-4351-9d83-4396ed1f6ca3",
              "name": "Status_Work",
              "value": "={{ $json.Status_Work }}",
              "type": "number"
            }
          ]
        },
        "options": {}
      },
      "id": "5c2764e7-8f8b-4fdf-a7e9-849a228a8b07",
      "name": "Edit Fields1",
      "type": "n8n-nodes-base.set",
      "typeVersion": 3.4,
      "position": [
        400,
        1100
      ]
    },
    {
      "parameters": {
        "operation": "concatenateItems",
        "aggregate": "aggregateAllItemData",
        "options": {}
      },
      "id": "b34fc950-67e1-4d64-a738-458b3e3cc95c",
      "name": "Объединяем все треки в один массив",
      "type": "n8n-nodes-base.itemLists",
      "typeVersion": 3,
      "position": [
        600,
        1100
      ]
    },
    {
      "parameters": {
        "html": "{{ $json.html }}"
      },
      "id": "1e29e18d-8a19-4f80-8ffe-5b6238c80b89",
      "name": "HTML",
      "type": "n8n-nodes-base.html",
      "typeVersion": 1.2,
      "position": [
        980,
        1100
      ]
    },
    {
      "parameters": {
        "assignments": {
          "assignments": [
            {
              "id": "00fd7f5e-933b-43fa-b8ae-9ba448cfd74d",
              "name": "html",
              "value": "=<!DOCTYPE html>\n<html lang=\"ru\">\n<head>\n    <meta charset=\"UTF-8\">\n    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\n    <title>Список из JSON</title>\n    <style>\n        body {\n            font-family: Arial, sans-serif;\n            margin: 20px;\n        }\n        ul {\n            list-style-type: none;\n            padding: 0;\n        }\n        li {\n            background: #f0f0f0;\n            margin: 5px 0;\n            padding: 10px;\n            border-radius: 5px;\n        }\n        .key {\n            font-weight: bold;\n        }\n    </style>\n</head>\n<body>\n    <h1>Все записи из таблицы Servers</h1>\n    <div id=\"output\"></div>\n\n    <script>\n        const jsonData = [\n            {\n                \"data\": {{ JSON.stringify($json.data) }}\n            }\n        ];\n\n        // Извлекаем массив данных\n        const dataList = jsonData[0].data;\n\n        // Создаем список элементов\n        const list = document.createElement('ul');\n\n        dataList.forEach(item => {\n            const listItem = document.createElement('li');\n            listItem.innerHTML = `\n                <span class=\"key\">Server_name:</span> ${item.Server_name}<br>\n                <span class=\"key\">PP:</span> ${item.PP}<br>\n                <span class=\"key\">Webhook:</span> ${item.Webhook}<br>\n                <span class=\"key\">Status_Work:</span> ${item.Status_Work}<br>\n                <span class=\"key\">All_traks:</span> ${item.All_traks}<br>\n                <span class=\"key\">Traks_left:</span> ${item.Traks_left}\n            `;\n            list.appendChild(listItem);\n        });\n\n        // Добавляем список на страницу\n        document.getElementById('output').appendChild(list);\n    </script>\n</body>\n</html>",
              "type": "string"
            }
          ]
        },
        "options": {}
      },
      "id": "d168478f-8aaa-4871-8d62-c57ddadd730b",
      "name": "Edit Fields4",
      "type": "n8n-nodes-base.set",
      "typeVersion": 3.4,
      "position": [
        780,
        1100
      ]
    },
    {
      "parameters": {
        "respondWith": "text",
        "responseBody": "={{ $json.html }}",
        "options": {}
      },
      "id": "ac933de9-cb01-4e9e-9178-0ef7969d13e6",
      "name": "Respond to Webhook1",
      "type": "n8n-nodes-base.respondToWebhook",
      "typeVersion": 1.1,
      "position": [
        1160,
        1100
      ]
    },
    {
      "parameters": {
        "path": "=all_user_fromDB",
        "responseMode": "responseNode",
        "options": {}
      },
      "id": "b083320b-d467-44b5-b38b-c9acf864694b",
      "name": "Webhook",
      "type": "n8n-nodes-base.webhook",
      "typeVersion": 2,
      "position": [
        0,
        860
      ],
      "webhookId": "ea0fe53b-cf88-4d86-8e45-f9aec865e04b"
    },
    {
      "parameters": {
        "path": "servers_change",
        "formTitle": "Изменение данных о записи по параметру для таблицы Servers",
        "formDescription": "Для уточнения параметров можно перейти по ссылке https://n8n.makees.online/webhook/all_fromDBserver",
        "formFields": {
          "values": [
            {
              "fieldLabel": "Введи параметр, по которому необходимо найти пользователя",
              "fieldType": "dropdown",
              "fieldOptions": {
                "values": [
                  {
                    "option": "Server_name"
                  },
                  {
                    "option": "PP"
                  },
                  {
                    "option": "Webhook"
                  },
                  {
                    "option": "Status_Work"
                  }
                ]
              },
              "requiredField": true
            },
            {
              "fieldLabel": "Введи данные, по которым нужно найти запись для изменения",
              "placeholder": "=BP-1",
              "requiredField": true
            },
            {
              "fieldLabel": "Введи параметр для изменения",
              "fieldType": "dropdown",
              "fieldOptions": {
                "values": [
                  {
                    "option": "PP"
                  },
                  {
                    "option": "Webhook"
                  },
                  {
                    "option": "Status_Work"
                  },
                  {
                    "option": "TrFch"
                  },
                  {
                    "option": "All_traks"
                  },
                  {
                    "option": "Traks_left"
                  }
                ]
              },
              "requiredField": true
            },
            {
              "fieldLabel": "Введите данные для изменения",
              "placeholder": "2024/10/22",
              "requiredField": true
            }
          ]
        },
        "options": {
          "appendAttribution": false,
          "respondWithOptions": {
            "values": {
              "respondWith": "redirect",
              "redirectUrl": "https://n8n.makees.online/webhook/all_fromDBserver"
            }
          }
        }
      },
      "id": "2b1ed774-a3ef-41c4-b758-77bf908dc038",
      "name": "Форма замена значения параметра по значению параметра DB_Servers",
      "type": "n8n-nodes-base.formTrigger",
      "typeVersion": 2.1,
      "position": [
        1120,
        320
      ],
      "webhookId": "9025a4ad-0cf4-4f35-80c9-b3038c469a27"
    },
    {
      "parameters": {
        "path": "=all_fromDBserver",
        "responseMode": "responseNode",
        "options": {}
      },
      "id": "8cf3e895-7f19-41ce-ac22-06e0b6da2a61",
      "name": "Запрос всех записей из таблицы servers",
      "type": "n8n-nodes-base.webhook",
      "typeVersion": 2,
      "position": [
        0,
        1100
      ],
      "webhookId": "b92d9ed5-d112-42a9-8825-e9750b975894"
    },
    {
      "parameters": {
        "path": "calendar",
        "responseMode": "responseNode",
        "options": {}
      },
      "type": "n8n-nodes-base.webhook",
      "typeVersion": 2,
      "position": [
        -1160,
        -60
      ],
      "id": "243120a6-ee79-40ab-bade-0c140a7a7bf6",
      "name": "Webhook1",
      "webhookId": "5332ec0c-37d3-4389-9115-06b11f7a49db"
    },
    {
      "parameters": {
        "assignments": {
          "assignments": [
            {
              "id": "1a0d728c-106a-4c3b-901b-65694da464e7",
              "name": "events",
              "value": "=[\n{\ntitle:'Дневная',\nstart:'{{ $json['1-й день']}}',\nend:'{{ $json['1-й день'].toDateTime().plus(2, 'days').format('yyyy-MM-dd') }}'\n},\n{\ntitle:'Выходной',\nstart:'{{ $json['1-й день'].toDateTime().plus(3, 'days').format('yyyy-MM-dd') }}',\nend:'{{ $json['1-й день'].toDateTime().plus(5, 'days').format('yyyy-MM-dd') }}'\n},\n{title:'Ночная',\nstart:'{{ $json['1-й день'].toDateTime().plus(6, 'days').format('yyyy-MM-dd') }}',\nend:'{{ $json['1-й день'].toDateTime().plus(8, 'days').format('yyyy-MM-dd') }}'\n},\n{\ntitle:'Выходной',\nstart:'{{ $json['1-й день'].toDateTime().plus(9, 'days').format('yyyy-MM-dd') }}',\nend:'{{ $json['1-й день'].toDateTime().plus(11, 'days').format('yyyy-MM-dd') }}'\n},\n{\ntitle:'Дневная',\nstart:'{{ $json['1-й день'].toDateTime().plus(12, 'days').format('yyyy-MM-dd') }}',\nend:'{{ $json['1-й день'].toDateTime().plus(14, 'days').format('yyyy-MM-dd') }}'\n},\n{\ntitle:'Выходной',\nstart:'{{ $json['1-й день'].toDateTime().plus(15, 'days').format('yyyy-MM-dd') }}',\nend:'{{ $json['1-й день'].toDateTime().plus(17, 'days').format('yyyy-MM-dd') }}'},\n{\ntitle:'Ночная',\nstart:'{{ $json['1-й день'].toDateTime().plus(18, 'days').format('yyyy-MM-dd') }}',\nend:'{{ $json['1-й день'].toDateTime().plus(20, 'days').format('yyyy-MM-dd') }}'\n},\n{\ntitle:'Выходной',\nstart:'{{ $json['1-й день'].toDateTime().plus(21, 'days').format('yyyy-MM-dd') }}',\nend:'{{ $json['1-й день'].toDateTime().plus(23, 'days').format('yyyy-MM-dd') }}'\n},\n{\ntitle:'Дневная',\nstart:'{{ $json['1-й день'].toDateTime().plus(24, 'days').format('yyyy-MM-dd') }}',\nend:'{{ $json['1-й день'].toDateTime().plus(26, 'days').format('yyyy-MM-dd') }}'\n},\n{\ntitle:'Выходной',\nstart:'{{ $json['1-й день'].toDateTime().plus(27, 'days').format('yyyy-MM-dd') }}',\nend:'{{ $json['1-й день'].toDateTime().plus(29, 'days').format('yyyy-MM-dd') }}'},\n{\ntitle:'Ночная',\nstart:'{{ $json['1-й день'].toDateTime().plus(30, 'days').format('yyyy-MM-dd') }}',\nend:'{{ $json['1-й день'].toDateTime().plus(32, 'days').format('yyyy-MM-dd') }}'\n},\n{\ntitle:'Выходной',\nstart:'{{ $json['1-й день'].toDateTime().plus(33, 'days').format('yyyy-MM-dd') }}',\nend:'{{ $json['1-й день'].toDateTime().plus(35, 'days').format('yyyy-MM-dd') }}'\n}\n]",
              "type": "array"
            }
          ]
        },
        "options": {
          "ignoreConversionErrors": true
        }
      },
      "type": "n8n-nodes-base.set",
      "typeVersion": 3.4,
      "position": [
        -760,
        -320
      ],
      "id": "47a72759-c1ba-4bb8-ac92-80ce97d8f130",
      "name": "Edit Fields2"
    },
    {
      "parameters": {
        "html": "{{ $json.html }}"
      },
      "id": "80ea593a-7689-4839-8666-3d9dde4762e7",
      "name": "HTML2",
      "type": "n8n-nodes-base.html",
      "typeVersion": 1.2,
      "position": [
        -580,
        -80
      ]
    },
    {
      "parameters": {
        "respondWith": "text",
        "responseBody": "={{ $json.html }}",
        "options": {}
      },
      "id": "0dd15a56-1982-429c-8109-cbf510637e4a",
      "name": "Respond to Webhook3",
      "type": "n8n-nodes-base.respondToWebhook",
      "typeVersion": 1.1,
      "position": [
        -340,
        -80
      ]
    },
    {
      "parameters": {
        "assignments": {
          "assignments": [
            {
              "id": "53b12aee-2302-4a1b-8735-201e1f7dd9e5",
              "name": "html",
              "value": "=\n<!DOCTYPE html>\n<html>\n<head>\n<meta charset='utf-8' />\n\n\n  <title>\n    Initialize Globals Demo - Demos | FullCalendar\n  </title>\n\n\n<link href='/docs/dist/demo-to-codepen.css' rel='stylesheet' />\n\n\n  <style>\n\n    html, body {\n      margin: 0;\n      padding: 0;\n      font-family: Arial, Helvetica Neue, Helvetica, sans-serif;\n      font-size: 14px;\n    }\n\n    #calendar {\n      max-width: 1100px;\n      margin: 40px auto;\n    }\n\n  </style>\n\n\n\n  <script src='https://cdn.jsdelivr.net/npm/fullcalendar@6.1.15/index.global.min.js'></script>\n\n\n<script src='/docs/dist/demo-to-codepen.js'></script>\n\n\n  \n<script>\n\n  document.addEventListener('DOMContentLoaded', function() {\n    var calendarEl = document.getElementById('calendar');\n\n    var calendar = new FullCalendar.Calendar(calendarEl, {\n      initialView: 'dayGridMonth',\n      initialDate: '2024-11-07',\n      headerToolbar: {\n        left: 'prev,next today',\n        center: 'title',\n        right: 'dayGridMonth,timeGridWeek,timeGridDay'\n      },\n      {{ $json.events }}\n    });\n\n    calendar.render();\n  });\n\n</script>\n\n</head>\n<body>\n  <div class='demo-topbar'>\n  <button data-codepen class='codepen-button'>Edit in CodePen</button>\n\n  \n\n  \n    initialization of calendar with browser globals\n  \n</div>\n\n  <div id='calendar'></div>\n</body>\n\n</html>\n",
              "type": "string"
            }
          ]
        },
        "options": {}
      },
      "type": "n8n-nodes-base.set",
      "typeVersion": 3.4,
      "position": [
        -520,
        -280
      ],
      "id": "8b103d08-3e5d-4453-9b9b-892bed0823ad",
      "name": "Edit Fields5"
    },
    {
      "parameters": {
        "jsCode": "events: [\n        {\n          title: '1смена',\n          start: '{{ $}}',\n          end: '2024-11-10'\n        },\n        {\n          groupId: '999',\n          title: 'Repeating Event',\n          start: '2024-11-09T16:00:00'\n        },\n        {\n          groupId: '999',\n          title: 'Repeating Event',\n          start: '2024-11-16T16:00:00'\n        },\n        {\n          title: 'Conference',\n          start: '2024-11-11',\n          end: '2024-11-13'\n        },\n        {\n          title: 'Meeting',\n          start: '2024-11-12T10:30:00',\n          end: '2024-11-12T12:30:00'\n        },\n        {\n          title: 'Lunch',\n          start: '2024-11-12T12:00:00'\n        },\n        {\n          title: 'Meeting',\n          start: '2024-11-12T14:30:00'\n        },\n        {\n          title: 'Birthday Party',\n          start: '2024-11-13T07:00:00'\n        },\n        {\n          title: 'Click for Google',\n          url: 'https://google.com/',\n          start: '2024-11-28'\n        }\n      ]"
      },
      "type": "n8n-nodes-base.code",
      "typeVersion": 2,
      "position": [
        -160,
        -460
      ],
      "id": "f568f3a0-b0fb-4728-b5f1-8c05f7d6521d",
      "name": "Code"
    },
    {
      "parameters": {
        "operation": "addToDate",
        "magnitude": "={{ $json.Start_Days }}",
        "duration": 6,
        "outputFieldName": "start_night",
        "options": {}
      },
      "type": "n8n-nodes-base.dateTime",
      "typeVersion": 2,
      "position": [
        120,
        -340
      ],
      "id": "58c3ebf1-7b24-4513-aa9f-c3715dcba2c2",
      "name": "Date & Time1"
    },
    {
      "parameters": {
        "operation": "addToDate",
        "magnitude": "={{ $json.Start_Days }}",
        "duration": 5,
        "outputFieldName": "end_weekend",
        "options": {}
      },
      "type": "n8n-nodes-base.dateTime",
      "typeVersion": 2,
      "position": [
        -120,
        -240
      ],
      "id": "a300ba5a-fdd0-4631-a81e-f5d88290aff9",
      "name": "Date & Time"
    },
    {
      "parameters": {
        "operation": "addToDate",
        "magnitude": "={{ $json.Start_Days }}",
        "duration": 3,
        "outputFieldName": "start_wekend",
        "options": {}
      },
      "type": "n8n-nodes-base.dateTime",
      "typeVersion": 2,
      "position": [
        80,
        -160
      ],
      "id": "2ca02431-2548-4764-b428-2dacfe742503",
      "name": "Date & Time2"
    },
    {
      "parameters": {
        "operation": "addToDate",
        "magnitude": "={{ $json.Start_Days }}",
        "duration": 2,
        "outputFieldName": "end_days",
        "options": {}
      },
      "type": "n8n-nodes-base.dateTime",
      "typeVersion": 2,
      "position": [
        720,
        -520
      ],
      "id": "04b878fc-4b32-4049-8f33-2131998dfb7f",
      "name": "Date & Time3"
    },
    {
      "parameters": {
        "assignments": {
          "assignments": [
            {
              "id": "f57b9ab6-cf49-4026-b2e3-04624486cac6",
              "name": "1-й день",
              "value": "=2024-10-29",
              "type": "string"
            }
          ]
        },
        "options": {}
      },
      "type": "n8n-nodes-base.set",
      "typeVersion": 3.4,
      "position": [
        -960,
        -320
      ],
      "id": "cfa97a6e-76d4-4d1f-96e5-b43159f0d4c4",
      "name": "Edit Fields6"
    },
    {
      "parameters": {
        "operation": "addToDate",
        "magnitude": "={{ $json.Start_Days }}",
        "duration": 8,
        "outputFieldName": "end_night",
        "options": {}
      },
      "type": "n8n-nodes-base.dateTime",
      "typeVersion": 2,
      "position": [
        580,
        -160
      ],
      "id": "e196f572-7f01-4354-8af0-1c5157575890",
      "name": "Date & Time4"
    },
    {
      "parameters": {
        "numberInputs": 8
      },
      "type": "n8n-nodes-base.merge",
      "typeVersion": 3,
      "position": [
        860,
        -980
      ],
      "id": "07f96d35-40f7-4169-8da8-a17db01bc9d0",
      "name": "Merge"
    },
    {
      "parameters": {
        "aggregate": "aggregateAllItemData",
        "destinationFieldName": "events",
        "options": {}
      },
      "type": "n8n-nodes-base.aggregate",
      "typeVersion": 1,
      "position": [
        1040,
        -620
      ],
      "id": "fd925794-8465-42e5-abfc-d1eb2e99247f",
      "name": "Aggregate"
    },
    {
      "parameters": {
        "operation": "addToDate",
        "magnitude": "={{ $json.Start_Days }}",
        "duration": 9,
        "outputFieldName": "start_wekend2",
        "options": {}
      },
      "type": "n8n-nodes-base.dateTime",
      "typeVersion": 2,
      "position": [
        360,
        -260
      ],
      "id": "857aefdd-f89f-4125-8a7e-01d5caa15fd1",
      "name": "Date & Time5"
    },
    {
      "parameters": {
        "operation": "addToDate",
        "magnitude": "={{ $json.Start_Days }}",
        "duration": 11,
        "outputFieldName": "end_wekend2",
        "options": {}
      },
      "type": "n8n-nodes-base.dateTime",
      "typeVersion": 2,
      "position": [
        360,
        -100
      ],
      "id": "b07d6384-0ad6-4415-b9d2-516b4b703e54",
      "name": "Date & Time6"
    },
    {
      "parameters": {
        "conditions": {
          "options": {
            "caseSensitive": true,
            "leftValue": "",
            "typeValidation": "strict",
            "version": 2
          },
          "conditions": [
            {
              "id": "81f4ba90-416f-4914-9b75-83c92f07e043",
              "leftValue": "={{ $json.data[3].end.toDateTime().format('MM').toNumber() }}",
              "rightValue": "={{ $now.format('MM').toNumber() + 1 }}",
              "operator": {
                "type": "number",
                "operation": "notEquals"
              }
            }
          ],
          "combinator": "and"
        },
        "options": {}
      },
      "type": "n8n-nodes-base.if",
      "typeVersion": 2.2,
      "position": [
        1240,
        -180
      ],
      "id": "1e41a52d-1d7b-4f45-83f8-9565200a19bd",
      "name": "If"
    },
    {
      "parameters": {
        "operation": "addToDate",
        "magnitude": "={{ $json.data[3].end.toDateTime().format('yyyy-MM-dd') }}",
        "duration": 1,
        "outputFieldName": "1-й день",
        "options": {}
      },
      "type": "n8n-nodes-base.dateTime",
      "typeVersion": 2,
      "position": [
        1020,
        -40
      ],
      "id": "5394bee5-be1a-4bc5-abec-24b3f8ba67d5",
      "name": "Date & Time7"
    },
    {
      "parameters": {
        "queryPath": "shuduler",
        "filePath": "=root/n8n/work_calender.json"
      },
      "id": "f6b15ed5-7bc4-4666-b7f7-cf861a42119f",
      "name": "Подтягиваем все собранные треки BP из JSON",
      "type": "@n-octo-n/n8n-nodes-json-database.JsonDatabase",
      "typeVersion": 1,
      "position": [
        1060,
        -900
      ]
    },
    {
      "parameters": {
        "fieldToSplitOut": "data",
        "options": {}
      },
      "id": "58bc6d12-8f9e-43c9-ad9d-45ae6015349f",
      "name": "Распаковываем массив с треками",
      "type": "n8n-nodes-base.itemLists",
      "typeVersion": 3,
      "position": [
        1060,
        -1180
      ],
      "alwaysOutputData": true
    },
    {
      "parameters": {
        "operation": "opWrite",
        "queryPath": "shuduler",
        "sourceType": "sourceTypeJson",
        "sourceData": "={{ JSON.stringify($json.data) }}",
        "filePath": "=root/n8n/work_calender.json"
      },
      "id": "7d4b867a-567b-4356-aca8-fee88f720d4d",
      "name": "Обновляем значение BP_tracks",
      "type": "@n-octo-n/n8n-nodes-json-database.JsonDatabase",
      "typeVersion": 1,
      "position": [
        2220,
        -1020
      ]
    },
    {
      "parameters": {
        "operation": "concatenateItems",
        "fieldsToAggregate": {
          "fieldToAggregate": [
            {
              "fieldToAggregate": "Дневная"
            },
            {
              "fieldToAggregate": "Выходные_1"
            },
            {
              "fieldToAggregate": "Ночные"
            },
            {
              "fieldToAggregate": "Выходные2"
            }
          ]
        },
        "options": {}
      },
      "id": "d7cd4332-3d13-419c-8860-7edac5a04ad2",
      "name": "Объединяем все треки в один массив1",
      "type": "n8n-nodes-base.itemLists",
      "typeVersion": 3,
      "position": [
        1420,
        -1140
      ]
    },
    {
      "parameters": {
        "mode": "combine",
        "mergeByFields": {
          "values": [
            {
              "field1": "data",
              "field2": "data"
            }
          ]
        },
        "joinMode": "keepEverything",
        "options": {}
      },
      "id": "f38f7b65-627f-40a1-937e-1d44acb4ddee",
      "name": "Соединяем имеющиеся треки с полученными",
      "type": "n8n-nodes-base.merge",
      "typeVersion": 2.1,
      "position": [
        1640,
        -660
      ]
    },
    {
      "parameters": {
        "operation": "opWrite",
        "queryPath": "shuduler",
        "sourceType": "sourceTypeJson",
        "sourceData": "=0",
        "filePath": "=root/n8n/work_calender.json"
      },
      "id": "c3335713-1ad2-481d-9a13-afbfbdf5f379",
      "name": "Обновляем значение BP_tracks1",
      "type": "@n-octo-n/n8n-nodes-json-database.JsonDatabase",
      "typeVersion": 1,
      "position": [
        -880,
        -820
      ]
    },
    {
      "parameters": {
        "conditions": {
          "options": {
            "caseSensitive": true,
            "leftValue": "",
            "typeValidation": "strict",
            "version": 2
          },
          "conditions": [
            {
              "id": "23749c71-1f6d-48b1-a4ea-bd9439d5d400",
              "leftValue": false,
              "rightValue": "",
              "operator": {
                "type": "boolean",
                "operation": "true",
                "singleValue": true
              }
            }
          ],
          "combinator": "and"
        },
        "options": {}
      },
      "type": "n8n-nodes-base.if",
      "typeVersion": 2.2,
      "position": [
        -660,
        -820
      ],
      "id": "bf1153c7-81b5-44ae-be40-d524be3a01c3",
      "name": "If1"
    },
    {
      "parameters": {},
      "type": "n8n-nodes-base.noOp",
      "typeVersion": 1,
      "position": [
        1920,
        -200
      ],
      "id": "5b80032f-76e1-468f-a831-bc8d450c9927",
      "name": "No Operation, do nothing"
    },
    {
      "parameters": {
        "conditions": {
          "options": {
            "caseSensitive": true,
            "leftValue": "",
            "typeValidation": "strict",
            "version": 2
          },
          "conditions": [
            {
              "id": "e0a84186-8578-49c1-bcc0-66420475ca8b",
              "leftValue": "={{ $json.data[0].title }}",
              "rightValue": "",
              "operator": {
                "type": "string",
                "operation": "notEmpty",
                "singleValue": true
              }
            }
          ],
          "combinator": "and"
        },
        "options": {}
      },
      "type": "n8n-nodes-base.if",
      "typeVersion": 2.2,
      "position": [
        2600,
        -1400
      ],
      "id": "12af9c32-e664-4e6e-af90-2be5c5b5d90a",
      "name": "If2"
    },
    {
      "parameters": {
        "conditions": {
          "options": {
            "caseSensitive": true,
            "leftValue": "",
            "typeValidation": "strict",
            "version": 2
          },
          "conditions": [
            {
              "id": "fa8b33ed-bbf9-41c4-8f7c-4f4d179fbeb9",
              "leftValue": false,
              "rightValue": "",
              "operator": {
                "type": "boolean",
                "operation": "true",
                "singleValue": true
              }
            }
          ],
          "combinator": "and"
        },
        "options": {}
      },
      "type": "n8n-nodes-base.if",
      "typeVersion": 2.2,
      "position": [
        2820,
        -700
      ],
      "id": "0957d7b8-909a-4c4d-abd7-2fe369b015b1",
      "name": "If3"
    },
    {
      "parameters": {
        "queryPath": "shuduler",
        "filePath": "=root/n8n/work_calender.json"
      },
      "id": "6fe95bd9-4e84-49c4-b5ef-a41efb45d969",
      "name": "Подтягиваем все собранные треки BP из JSON1",
      "type": "@n-octo-n/n8n-nodes-json-database.JsonDatabase",
      "typeVersion": 1,
      "position": [
        2680,
        -240
      ]
    },
    {
      "parameters": {
        "fieldToSplitOut": "data",
        "options": {}
      },
      "type": "n8n-nodes-base.splitOut",
      "typeVersion": 1,
      "position": [
        2880,
        -240
      ],
      "id": "8b7825ff-fea9-425a-b0bb-3fdfc7c07b10",
      "name": "Split Out"
    },
    {
      "parameters": {
        "aggregate": "aggregateAllItemData",
        "options": {}
      },
      "type": "n8n-nodes-base.aggregate",
      "typeVersion": 1,
      "position": [
        2100,
        -640
      ],
      "id": "b3e78cb1-dfc7-4d2d-ab3f-ba455834d529",
      "name": "Aggregate1"
    },
    {
      "parameters": {
        "fieldToSplitOut": "data",
        "options": {}
      },
      "type": "n8n-nodes-base.splitOut",
      "typeVersion": 1,
      "position": [
        3060,
        -240
      ],
      "id": "aed01ab4-f150-48e1-852a-8985767513d4",
      "name": "Split Out1"
    },
    {
      "parameters": {
        "fieldToSplitOut": "data[0].data",
        "include": "allOtherFields",
        "options": {}
      },
      "type": "n8n-nodes-base.splitOut",
      "typeVersion": 1,
      "position": [
        1340,
        -900
      ],
      "id": "ea131d03-388f-430b-bb29-b6e0d305525c",
      "name": "Split Out2",
      "alwaysOutputData": true
    },
    {
      "parameters": {
        "assignments": {
          "assignments": [
            {
              "id": "a1eacecf-467f-445b-b1f0-9a276758b5da",
              "name": "Event",
              "value": "={\n title: 'Дневная',\n start: '{{ $json.events[0].Start_Days.toDateTime().format('yyyy-MM-dd') }}',\n end: '{{ $json.events[1].end_days.toDateTime().format('yyyy-MM-dd') }}T23:59:59'\n}",
              "type": "object"
            },
            {
              "id": "3b8b3a1f-2111-4086-90d5-4a67d1923a84",
              "name": "Event",
              "value": "={  title: 'Ночные',  start: '{{ $json.events[4].start_night.toDateTime().format('yyyy-MM-dd') }}',  end: '{{ $json.events[5].end_night.toDateTime().format('yyyy-MM-dd') }}T23:59:59' }",
              "type": "object"
            },
            {
              "id": "fb2ef1f0-8778-46fc-8730-3ffa0ddad698",
              "name": "Event",
              "value": "={  title: 'Выходные',  start: '{{ $json.events[6].start_wekend2.toDateTime().format('yyyy-MM-dd') }}',  end: '{{ $json.events[7].end_wekend2.toDateTime().format('yyyy-MM-dd') }}T23:59:59' }",
              "type": "object"
            },
            {
              "id": "63538466-08e1-4d51-9e43-f78880e59413",
              "name": "Event",
              "value": "={  title: 'Выходные2',  start: '{{ $json.events[2].start_wekend.toDateTime().format('yyyy-MM-dd') }}',  end: '{{ $json.events[3].end_weekend.toDateTime().format('yyyy-MM-dd') }}T23:59:59' }",
              "type": "string"
            },
            {
              "id": "3a4a2475-656d-4fb7-8249-505761578414",
              "name": "data",
              "value": "=events: [\n        \n        {\n          title: 'Дневная',\n          start: '{{ $json.events[0].Start_Days.toDateTime().format('yyyy-MM-dd') }}',\n          end: '{{ $json.events[1].end_days.toDateTime().format('yyyy-MM-dd') }}'\n        },\n        {\n          title: 'Выходной',\n          start: '{{ $json.events[2].start_wekend.toDateTime().format('yyyy-MM-dd') }}',\n          end: '{{ $json.events[3].end_weekend.toDateTime().format('yyyy-MM-dd') }}'\n        },\n        {\n          title: 'Ночная',\n          start: '{{ $json.events[4].start_night.toDateTime().format('yyyy-MM-dd') }}',\n          end: '{{ $json.events[5].end_night.toDateTime().format('yyyy-MM-dd') }}'\n        },\n        {\n          title: 'Выходной2',\n          start: '{{ $json.events[6].start_wekend2.toDateTime().format('yyyy-MM-dd') }}',\n          end: '{{ $json.events[7].end_wekend2.toDateTime().format('yyyy-MM-dd') }}'\n        }\n\n      ]",
              "type": "object"
            }
          ]
        },
        "options": {}
      },
      "type": "n8n-nodes-base.set",
      "typeVersion": 3.4,
      "position": [
        720,
        -1180
      ],
      "id": "4757f3ad-2bc8-49ff-b4b5-05c1331a96b0",
      "name": "Edit Fields8"
    },
    {
      "parameters": {
        "filePath": "=root/n8n/work_calender.json"
      },
      "id": "ea04c291-d9f3-4088-a656-661f16885937",
      "name": "Обновляем значение BP_tracks2",
      "type": "@n-octo-n/n8n-nodes-json-database.JsonDatabase",
      "typeVersion": 1,
      "position": [
        2720,
        -1260
      ]
    },
    {
      "parameters": {
        "assignments": {
          "assignments": [
            {
              "id": "3a4a2475-656d-4fb7-8249-505761578414",
              "name": "data",
              "value": "={[\n {\n   \"title\": \"Дневная\",\n   \"start\": \"{{ $json.events[0].Start_Days.toDateTime().format('yyyy-MM-dd') }}\",\n   \"end\": \"{{ $json.events[1].end_days.toDateTime().format('yyyy-MM-dd') }}\"\n   },\n        {\n          title: 'Выходной',\n          start: '{{ $json.events[2].start_wekend.toDateTime().format('yyyy-MM-dd') }}',\n          end: '{{ $json.events[3].end_weekend.toDateTime().format('yyyy-MM-dd') }}'\n        },\n        {\n          title: 'Ночная',\n          start: '{{ $json.events[4].start_night.toDateTime().format('yyyy-MM-dd') }}',\n          end: '{{ $json.events[5].end_night.toDateTime().format('yyyy-MM-dd') }}'\n        },\n        {\n          title: 'Выходной2',\n          start: '{{ $json.events[6].start_wekend2.toDateTime().format('yyyy-MM-dd') }}',\n          end: '{{ $json.events[7].end_wekend2.toDateTime().format('yyyy-MM-dd') }}'\n        }\n      ]",
              "type": "array"
            }
          ]
        },
        "options": {}
      },
      "type": "n8n-nodes-base.set",
      "typeVersion": 3.4,
      "position": [
        1280,
        -1340
      ],
      "id": "a50fa766-a257-4a9b-b5b3-f3adf321c200",
      "name": "Edit Fields10"
    },
    {
      "parameters": {
        "assignments": {
          "assignments": [
            {
              "id": "3a4a2475-656d-4fb7-8249-505761578414",
              "name": "data",
              "value": "=[{\"title\":\"Дневная\",\"start\":\"{{ $json.events[0].Start_Days.toDateTime().format('yyyy-MM-dd') }}\",\"end\":\"{{ $json.events[1].end_days.toDateTime().format('yyyy-MM-dd') }}\"},{\"title\":\"Выходной\",\"start\":\"{{ $json.events[2].start_wekend.toDateTime().format('yyyy-MM-dd') }}\",\"end\":\"{{ $json.events[3].end_weekend.toDateTime().format('yyyy-MM-dd') }}\" },{\"title\":\"Ночная\",\"start\":\"{{ $json.events[4].start_night.toDateTime().format('yyyy-MM-dd') }}\",\"end\":\"{{ $json.events[5].end_night.toDateTime().format('yyyy-MM-dd') }}\" },{\"title\":\"Выходной2\",\"start\":\"{{ $json.events[6].start_wekend2.toDateTime().format('yyyy-MM-dd') }}\",\"end\":\"{{ $json.events[7].end_wekend2.toDateTime().format('yyyy-MM-dd') }}\" }]\n",
              "type": "array"
            }
          ]
        },
        "options": {
          "ignoreConversionErrors": false
        }
      },
      "type": "n8n-nodes-base.set",
      "typeVersion": 3.4,
      "position": [
        1260,
        -620
      ],
      "id": "3a28e48c-a9a8-4c44-a7d6-525f92a7d54c",
      "name": "Edit Fields11"
    },
    {
      "parameters": {
        "fieldToSplitOut": "data",
        "options": {}
      },
      "type": "n8n-nodes-base.splitOut",
      "typeVersion": 1,
      "position": [
        3240,
        -240
      ],
      "id": "bf121cf2-49be-45ca-a95e-bca90d7504e9",
      "name": "Split Out3"
    },
    {
      "parameters": {
        "jsCode": "// Loop over input items and add a new field called 'myNewField' to the JSON of each one\nfor (const item of $input.all()) {\n  item.json.myNewField = 1;\n}\n\nreturn $input.all();"
      },
      "type": "n8n-nodes-base.code",
      "typeVersion": 2,
      "position": [
        -720,
        -1160
      ],
      "id": "f943a3fb-1fbb-4b1a-973a-3ba3c27e308d",
      "name": "Code1"
    },
    {
      "parameters": {
        "queryPath": "shuduler",
        "filePath": "=root/n8n/work_calender.json"
      },
      "id": "e19ad48e-4b49-4310-8874-4977d5e88eb6",
      "name": "Подтягиваем все собранные треки BP из JSON2",
      "type": "@n-octo-n/n8n-nodes-json-database.JsonDatabase",
      "typeVersion": 1,
      "position": [
        2380,
        -1500
      ]
    },
    {
      "parameters": {
        "conditions": {
          "options": {
            "caseSensitive": true,
            "leftValue": "",
            "typeValidation": "strict",
            "version": 2
          },
          "conditions": [
            {
              "id": "52461e0c-3dbf-4bb2-bef1-2d422877aaf5",
              "leftValue": "={{ $json.data[0].title }}",
              "rightValue": "",
              "operator": {
                "type": "string",
                "operation": "empty",
                "singleValue": true
              }
            }
          ],
          "combinator": "and"
        },
        "options": {}
      },
      "type": "n8n-nodes-base.if",
      "typeVersion": 2.2,
      "position": [
        1920,
        -660
      ],
      "id": "131381be-db5f-4259-8d9b-d86669573d09",
      "name": "If4"
    },
    {
      "parameters": {
        "assignments": {
          "assignments": [
            {
              "id": "8812ff64-de3e-4631-ad29-056cbbd95950",
              "name": "data",
              "value": "={{ $('Edit Fields11').item.json.data }}",
              "type": "array"
            }
          ]
        },
        "options": {}
      },
      "type": "n8n-nodes-base.set",
      "typeVersion": 3.4,
      "position": [
        1960,
        -1020
      ],
      "id": "1f791ed2-068b-4157-a66a-36cdc91f4f30",
      "name": "Edit Fields7"
    },
    {
      "parameters": {
        "operation": "opWrite",
        "queryPath": "process.trigers",
        "sourceType": "sourceTypeJson",
        "sourceData": "{  \"Triger1\":  0 }",
        "filePath": "=root/n8n/shuduler.json"
      },
      "id": "a88f8b4a-bafc-40dc-ac35-47664d3377cf",
      "name": "JsonDatabase",
      "type": "@n-octo-n/n8n-nodes-json-database.JsonDatabase",
      "typeVersion": 1,
      "position": [
        1660,
        -940
      ],
      "executeOnce": true
    },
    {
      "parameters": {
        "conditions": {
          "boolean": [
            {
              "value2": true
            }
          ]
        }
      },
      "id": "f21dd883-020b-4196-90c4-213f612654cc",
      "name": "YGP",
      "type": "n8n-nodes-base.if",
      "typeVersion": 1,
      "position": [
        1820,
        -820
      ],
      "alwaysOutputData": false
    },
    {
      "parameters": {
        "operation": "opWrite",
        "queryPath": "process.trigers",
        "sourceType": "sourceTypeJson",
        "sourceData": "{  \"Triger1\":  1 }",
        "filePath": "=root/n8n/shuduler.json"
      },
      "id": "c10584f0-8c8f-45c8-b33a-62cd1ad85c36",
      "name": "JsonDatabase1",
      "type": "@n-octo-n/n8n-nodes-json-database.JsonDatabase",
      "typeVersion": 1,
      "position": [
        1920,
        -1200
      ],
      "executeOnce": true
    },
    {
      "parameters": {
        "conditions": {
          "boolean": [
            {
              "value2": true
            }
          ]
        }
      },
      "id": "c5a8cf1b-cd80-45d3-b8c9-99b439743516",
      "name": "YGP1",
      "type": "n8n-nodes-base.if",
      "typeVersion": 1,
      "position": [
        2140,
        -1200
      ],
      "alwaysOutputData": false
    },
    {
      "parameters": {
        "queryPath": "process.trigers.Triger1",
        "filePath": "=root/n8n/shuduler.json"
      },
      "id": "b908224c-915b-440c-a029-8524d71c1d30",
      "name": "JsonDatabase2",
      "type": "@n-octo-n/n8n-nodes-json-database.JsonDatabase",
      "typeVersion": 1,
      "position": [
        2160,
        -380
      ],
      "executeOnce": true
    },
    {
      "parameters": {
        "conditions": {
          "options": {
            "caseSensitive": true,
            "leftValue": "",
            "typeValidation": "strict",
            "version": 2
          },
          "conditions": [
            {
              "id": "900e284b-6d4b-4698-a573-5b613d5abd1e",
              "leftValue": "={{ $json.data }}",
              "rightValue": 0,
              "operator": {
                "type": "number",
                "operation": "notEquals"
              }
            }
          ],
          "combinator": "and"
        },
        "options": {}
      },
      "type": "n8n-nodes-base.if",
      "typeVersion": 2.2,
      "position": [
        2380,
        -380
      ],
      "id": "257f6cb3-2279-45c9-a4b1-ea93ea7a2631",
      "name": "If5"
    },
    {
      "parameters": {
        "assignments": {
          "assignments": [
            {
              "id": "fa4929a6-dc16-46ec-ae89-e3032aaa26b4",
              "name": "data",
              "value": "={{ $('Aggregate1').item.json.data }}",
              "type": "array"
            }
          ]
        },
        "options": {}
      },
      "type": "n8n-nodes-base.set",
      "typeVersion": 3.4,
      "position": [
        2340,
        -740
      ],
      "id": "b0cf14d7-368b-4b8e-b206-52271ff8c3ea",
      "name": "Edit Fields9"
    },
    {
      "parameters": {
        "operation": "addToDate",
        "magnitude": "={{ $json.end_days }}",
        "duration": 1,
        "outputFieldName": "start_vacation",
        "options": {}
      },
      "type": "n8n-nodes-base.dateTime",
      "typeVersion": 2,
      "position": [
        480,
        -540
      ],
      "id": "be2c006a-c9c4-483a-b33e-803465f2ea03",
      "name": "Date & Time8"
    },
    {
      "parameters": {
        "assignments": {
          "assignments": [
            {
              "id": "1a0d728c-106a-4c3b-901b-65694da464e7",
              "name": "data",
              "value": "=[{'title':'Дневная','start':'{{ $json['1-й день']}}','end':'{{ $json['1-й день'].toDateTime().plus(2, 'days').format('yyyy-MM-dd') }}'},{'title':'Выходной','start':'{{ $json['1-й день'].toDateTime().plus(3, 'days').format('yyyy-MM-dd') }}','end':'{{ $json['1-й день'].toDateTime().plus(5, 'days').format('yyyy-MM-dd') }}'},{'title':'Ночная','start':'{{ $json['1-й день'].toDateTime().plus(6, 'days').format('yyyy-MM-dd') }}','end':'{{ $json['1-й день'].toDateTime().plus(8, 'days').format('yyyy-MM-dd') }}'},{'title':'Выходной','start':'{{ $json['1-й день'].toDateTime().plus(9, 'days').format('yyyy-MM-dd') }}','end':'{{ $json['1-й день'].toDateTime().plus(11, 'days').format('yyyy-MM-dd') }}'},{'title':'Дневная','start':'{{ $json['1-й день'].toDateTime().plus(12, 'days').format('yyyy-MM-dd') }}','end':'{{ $json['1-й день'].toDateTime().plus(14, 'days').format('yyyy-MM-dd') }}'},{'title':'Выходной','start':'{{ $json['1-й день'].toDateTime().plus(15, 'days').format('yyyy-MM-dd') }}','end':'{{ $json['1-й день'].toDateTime().plus(17, 'days').format('yyyy-MM-dd') }}'},{'title':'Ночная','start':'{{ $json['1-й день'].toDateTime().plus(18, 'days').format('yyyy-MM-dd') }}','end':'{{ $json['1-й день'].toDateTime().plus(20, 'days').format('yyyy-MM-dd') }}'},{'title':'Выходной','start':'{{ $json['1-й день'].toDateTime().plus(21, 'days').format('yyyy-MM-dd') }}','end':'{{ $json['1-й день'].toDateTime().plus(23, 'days').format('yyyy-MM-dd') }}'},{'title':'Дневная','start':'{{ $json['1-й день'].toDateTime().plus(24, 'days').format('yyyy-MM-dd') }}','end':'{{ $json['1-й день'].toDateTime().plus(26, 'days').format('yyyy-MM-dd') }}'},{'title':'Выходной','start':'{{ $json['1-й день'].toDateTime().plus(27, 'days').format('yyyy-MM-dd') }}','end':'{{ $json['1-й день'].toDateTime().plus(29, 'days').format('yyyy-MM-dd') }}'},{'title':'Ночная','start':'{{ $json['1-й день'].toDateTime().plus(30, 'days').format('yyyy-MM-dd') }}','end':'{{ $json['1-й день'].toDateTime().plus(32, 'days').format('yyyy-MM-dd') }}'},{'title':'Выходной','start':'{{ $json['1-й день'].toDateTime().plus(33, 'days').format('yyyy-MM-dd') }}','end':'{{ $json['1-й день'].toDateTime().plus(35, 'days').format('yyyy-MM-dd') }}'}]",
              "type": "array"
            }
          ]
        },
        "options": {}
      },
      "type": "n8n-nodes-base.set",
      "typeVersion": 3.4,
      "position": [
        -240,
        -740
      ],
      "id": "20d371da-3176-49ad-b8a6-221525cc1d5f",
      "name": "Edit Fields12"
    },
    {
      "parameters": {
        "assignments": {
          "assignments": [
            {
              "id": "53b12aee-2302-4a1b-8735-201e1f7dd9e5",
              "name": "html",
              "value": "=\n<!DOCTYPE html>\n<html>\n<head>\n<meta charset='utf-8' />\n\n\n  <title>\n    Initialize Globals Demo - Demos | FullCalendar\n  </title>\n\n\n<link href='/docs/dist/demo-to-codepen.css' rel='stylesheet' />\n\n\n  <style>\n\n    html, body {\n      margin: 0;\n      padding: 0;\n      font-family: Arial, Helvetica Neue, Helvetica, sans-serif;\n      font-size: 14px;\n    }\n\n    #calendar {\n      max-width: 1100px;\n      margin: 40px auto;\n    }\n\n  </style>\n\n\n\n  <script src='https://cdn.jsdelivr.net/npm/fullcalendar@6.1.15/index.global.min.js'></script>\n\n\n<script src='/docs/dist/demo-to-codepen.js'></script>\n\n\n  \n<script>\n\n  document.addEventListener('DOMContentLoaded', function() {\n    var calendarEl = document.getElementById('calendar');\n\n    var calendar = new FullCalendar.Calendar(calendarEl, {\n      initialView: 'dayGridMonth',\n      initialDate: '2024-11-07',\n      headerToolbar: {\n        left: 'prev,next today',\n        center: 'title',\n        right: 'dayGridMonth,timeGridWeek,timeGridDay'\n      },\n      events: [\n        {\n          title: 'All Day Event',\n          start: '2024-11-01'\n        },\n        {\n          title: 'Long Event',\n          start: '2024-11-07',\n          end: '2024-11-10'\n        },\n        {\n          groupId: '999',\n          title: 'Repeating Event',\n          start: '2024-11-09T16:00:00'\n        },\n        {\n          groupId: '999',\n          title: 'Repeating Event',\n          start: '2024-11-16T16:00:00'\n        },\n        {\n          title: 'Conference',\n          start: '2024-11-11',\n          end: '2024-11-13'\n        },\n        {\n          title: 'Meeting',\n          start: '2024-11-12T10:30:00',\n          end: '2024-11-12T12:30:00'\n        },\n        {\n          title: 'Lunch',\n          start: '2024-11-12T12:00:00'\n        },\n        {\n          title: 'Meeting',\n          start: '2024-11-12T14:30:00'\n        },\n        {\n          title: 'Birthday Party',\n          start: '2024-11-13T07:00:00'\n        },\n        {\n          title: 'Click for Google',\n          url: 'https://google.com/',\n          start: '2024-11-28'\n        }\n      ]\n    });\n\n    calendar.render();\n  });\n\n</script>\n\n</head>\n<body>\n  <div class='demo-topbar'>\n  <button data-codepen class='codepen-button'>Edit in CodePen</button>\n\n  \n\n  \n    initialization of calendar with browser globals\n  \n</div>\n\n  <div id='calendar'></div>\n</body>\n\n</html>\n",
              "type": "string"
            }
          ]
        },
        "options": {}
      },
      "type": "n8n-nodes-base.set",
      "typeVersion": 3.4,
      "position": [
        -860,
        0
      ],
      "id": "dcf94aa2-cf5a-4d31-8b32-7a2972e3ea9b",
      "name": "Edit Fields13"
    },
    {
      "parameters": {
        "operation": "executeQuery",
        "query": "SELECT * FROM Servers ",
        "options": {}
      },
      "id": "6591789e-4eb6-4df9-b0f9-967a477549c4",
      "name": "Получить все записи из таблицы Servers",
      "type": "n8n-nodes-base.mySql",
      "typeVersion": 2.4,
      "position": [
        220,
        1100
      ],
      "credentials": {
        "mySql": {
          "id": "8aCpW2vOoONBz7HE",
          "name": "MySQL account"
        }
      }
    }
  ],
  "pinData": {},
  "settings": {
    "executionOrder": "v1",
    "saveManualExecutions": true,
    "callerPolicy": "workflowsFromSameOwner",
    "executionTimeout": 60
  },
  "staticData": null,
  "tags": [],
  "triggerCount": 7,
  "updatedAt": "2025-03-26T15:35:14.000Z",
  "versionId": "97c45523-9598-459c-ab04-019ccb35d369"
}